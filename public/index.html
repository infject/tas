<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" href="/assets/favicon.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Resonance Duel</title>

  <!-- ‚úÖ Correct way to load your stylesheet -->
  <link rel="stylesheet" href="/style.css">
  <script src="/socket.io/socket.io.js"></script>
  <script src="/client.js" defer></script>
  <link rel="stylesheet" href="style_mobile.css" media="(max-width: 768px) and (orientation: portrait)">
  
  <!-- You can add other head scripts/meta tags below if needed -->
</head>
<body>
<div id="container">

<!-- RULES -->
<div id="rules" class="rules-screen">
  <h1>üçª Jack Jackson: Resonance Duel üçª</h1>
  <h2>How to Play</h2>
  <p>
    Welcome to <strong>Jack Jackson: Resonance Duel</strong> ‚Äî a chaotic drinking card game
    where mages clash through resonance and shots of real-life power.
  </p>
  <p>
 <button id="startBtn" class="start-button">Start the Duel</button>
 </p>
  <ul>
    <li>üéØ <strong>Goal:</strong> Reduce your opponent‚Äôs <span class="keyword">Stability (‚ù§Ô∏è)</span> to <strong>0</strong>!</li>
    <li>üåÄ <strong>Resonance (Energy):</strong> Magical power used to play cards.</li>
    <li>‚ù§Ô∏è <strong>Stability (Health):</strong> Lose it all, and you‚Äôre out of the duel.</li>
    <li>üç∫ <strong>Drink Potion:</strong> Take a real-life sip/shot ‚Üí gain <strong>+1üåÄResonance</strong> in-game.</li>
    <li>‚ö° <strong>Overload:</strong> Too much drinking or resonance? You might lose control and the game!</li>
    <li>üë• <strong>Multiplayer:</strong> Join or create a room with a code and password to duel your friends online.</li>
    <li>üî• <strong>Turn System:</strong> Play cards strategically to drain your opponent‚Äôs Stability or protect your own.</li>
  </ul>

  <p class="note">
    <strong>Remember:</strong> This is a drinking game. Drink responsibly. Know your limits. Hydrate. üíß
  </p>

 
</div>

<!-- LOBBY -->
<div id="lobby" class="hidden">
  <h2>Lobby</h2>
  <input id="roomCodeInput" placeholder="Room Code">
  <input id="passwordInput" type="password" placeholder="Password">
  <input id="nameInput" placeholder="Your Name"><br>
  <button id="createBtn">Create Room</button>
  <button id="joinBtn">Join Room</button>
  <h3>Available Rooms</h3>
  <div id="roomList"></div>
</div>

<!-- READY LOBBY -->
<div id="readyLobby" class="hidden">
  <h2>Waiting Room</h2>
  <p id="roomLabel"></p>
  <div id="readyPlayers"></div>

  <button id="readyBtn" class="ready-button">I'm Ready!</button>
  <div id="countdownDisplay"></div>
  <div id="diceRollArea" class="hidden">
    <img id="diceGif" src="/assets/dice_roll.gif" alt="Rolling Dice..." width="120">
  </div>
</div>
  
<!-- GAME -->
<div id="game" class="hidden">
  <div class="game-scroll">
  <div id="turnIndicator">Current Turn: --</div>
  <div class="hud" id="yourStats"></div>
  <div id="yourHand"></div>
  <div id="tableArea" style="display:none;"></div>
  <div id="historyPanel" class="history-panel hidden">
    <div class="history-inner">
      <div class="history-header">
        <h3>Game History</h3>
        <button id="closeHistoryBtn">Close</button>
      </div>
      <div id="historyContent" class="history-content"></div>
    </div>
  </div>
  <div id="otherPlayers"></div>
  <div id="controls">
    <button id="drawBtn">Draw Card</button>
    <button id="historyBtn">History</button>
    <div class="tooltip"><button id="potionBtn">Drink Potion</button>
      <span class="tooltiptext">Take a real-life shot to gain 1 Resonance</span>
    </div>
    <button id="endTurnBtn">End Turn</button>
  </div>
</div>

</div>
<!-- Watch-ad support button (paste before </body>) -->
<div style="text-align:center;margin:20px 0;">
  <button id="donateAdOmega">Watch Ad To Support</button>
  <span id="donateMsgOmega" style="display:block;font-size:.9rem;color:#777;margin-top:6px;"></span>
</div>

<script>
(function(){
  // ‚úÖ Use an Adcash Interstitial/Video in-page zone (not popunder)
  var ZONE_ID = '3kav3zuvhk';
  var btn = document.getElementById('donateAdOmega');
  var msg = document.getElementById('donateMsgOmega');

  function libReady(){
    return !!window.aclib && typeof window.aclib.runAutoTag === 'function';
  }

  function loadLib(cb){
    if (libReady()) { cb(); return; }
    // If already added elsewhere, wait for it to become ready
    var existing = document.getElementById('aclib');
    if (existing){
      var t = setInterval(function(){
        if (libReady()){ clearInterval(t); cb(); }
      }, 200);
      return;
    }
    // Lazy-load Adcash library once
    var s = document.createElement('script');
    s.id = 'aclib';
    s.src = 'https://acscdn.com/script/aclib.js';
    s.onload = function(){ cb(); };
    s.onerror = function(){ msg.textContent = 'Ad script blocked ‚Äî please allow ads to support the game'; };
    document.body.appendChild(s);
  }

  btn.addEventListener('click', function(){
    msg.textContent = 'Thanks for supporting!';
    loadLib(function(){
      // This triggers the in-page interstitial overlay from your zone
      window.aclib.runAutoTag({ zoneId: ZONE_ID });
    });
  });
})();
</script>

  <script>
document.addEventListener('DOMContentLoaded', function () {
  var start = document.getElementById('startBtn');
  // your ad button id (supports either of the ones we used earlier)
  var adBtn = document.getElementById('donateAdOmega') || document.getElementById('watchDonateZ17');

  if (start && adBtn) {
    start.addEventListener('click', function () {
      // hide the whole wrapper if possible, otherwise just the button
      var wrap = adBtn.parentElement;
      if (wrap) { wrap.style.display = 'none'; }
      else { adBtn.style.display = 'none'; }
    }, { once: true });
  }
});
</script>
  
</body>
</html>
